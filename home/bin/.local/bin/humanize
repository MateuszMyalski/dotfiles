#!/usr/bin/env python3
import sys
import os

UNIT_LABELS = ("B", "KB", "MB", "GB", "TB", "PB")
UNIT_MULTIPLER = 1024

def usage():
    name = os.path.basename(sys.argv[0])
    print(f"Usage: {name} [NUMBERS]", file=sys.stderr)

def main():

    if len(sys.argv) < 2 and sys.stdin.isatty():
        usage()
        sys.exit(1)

    input_value = sys.stdin.read() if not sys.stdin.isatty() else sys.argv[1]
    if not input_value:
        usage()
        sys.exit(1)

    try:
        input_value = int(input_value)
    except ValueError:
        print("Error: input must be a number", file=sys.stderr)
        sys.exit(2)

    if input_value < 0:
        print("Error: the size cannot be negative", file=sys.stderr)
        sys.exit(2)

    if input_value == 0:
        print("0B")
        sys.exit(0)

    unit_values = [0] * len(UNIT_LABELS)
    unit_idx = 0
    while unit_idx == 0 or input_value >= UNIT_MULTIPLER:
        unit_values[unit_idx + 1] = int(input_value / UNIT_MULTIPLER)
        unit_values[unit_idx] = input_value % UNIT_MULTIPLER

        input_value = unit_values[unit_idx + 1]
        unit_idx += 1

    output = ""

    for el, unit in zip(reversed(unit_values), reversed(UNIT_LABELS)):
        if el == 0:
            continue
        output += f"{el}{unit} "

    output = output.strip()
    output = output.replace(" ", ", ")
    print(output)

if __name__ == "__main__":
    main()
